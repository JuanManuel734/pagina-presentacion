<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comentarios</title>
    <link rel="stylesheet" href="comentarios.css">
</head>
<body>
    <section class="comentarios">
        <h2>Sección de Comentarios</h2>
        <form class="comentarios-form" id="comentariosForm">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" placeholder="Tu nombre" required>
            
            <label for="comentario">Comentario:</label>
            <textarea id="comentario" name="comentario" placeholder="Escribe tu comentario aquí..." required></textarea>
            
            <button type="submit">
                <div class="svg-wrapper-1">
                    <div class="svg-wrapper">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            width="24"
                            height="24"
                        >
                            <path fill="none" d="M0 0h24v24H0z"></path>
                            <path
                                fill="currentColor"
                                d="M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z"
                            ></path>
                        </svg>
                    </div>
                </div>
                <span>Enviar</span>
            </button>
        </form>
        <div class="comentarios-lista">
            <h3>Comentarios Recientes</h3>
            <ul id="listaComentarios">
                <!-- Los comentarios se agregarán dinámicamente aquí -->
            </ul>
        </div>
    </section>
    <script>
        const form = document.getElementById('comentariosForm');
        const listaComentarios = document.getElementById('listaComentarios');

        // Cargar comentarios guardados al cargar la página
        document.addEventListener('DOMContentLoaded', () => {
            const comentariosGuardados = JSON.parse(localStorage.getItem('comentarios')) || [];
            comentariosGuardados.forEach(comentario => agregarComentario(comentario.nombre, comentario.texto));
        });

        // Manejar el envío del formulario
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            const nombre = document.getElementById('nombre').value;
            const comentario = document.getElementById('comentario').value;

            agregarComentario(nombre, comentario);
            guardarComentario(nombre, comentario);

            form.reset();
        });

        // Función para agregar un comentario a la lista
        function agregarComentario(nombre, texto) {
            const li = document.createElement('li');
            li.innerHTML = `<strong>${nombre}:</strong> ${texto}`;
            listaComentarios.appendChild(li);
        }

        // Función para guardar un comentario en localStorage
        function guardarComentario(nombre, texto) {
            const comentarios = JSON.parse(localStorage.getItem('comentarios')) || [];
            comentarios.push({ nombre, texto });
            localStorage.setItem('comentarios', JSON.stringify(comentarios));
        }
    </script>
</body>
</html>